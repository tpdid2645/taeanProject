<header>
  <div class="header-inner">
    <div class="header-items">
      <div class="header-logo">
        <h1>
          <a href="../index.html"
            ><img class="logo-toggle" src="../images/logo/logo.svg" alt="로고"
          /></a>
        </h1>
      </div>
      <nav class="header-nav">
        <ul class="header-nav-list">
          <li class="first-nav-menu"><a href="../board.html">태안Talk</a></li>
          <li class="second-nav-menu">
            <a href="../interview-story.html">태안人터뷰</a>
          </li>
          <li class="third-nav-menu">
            <a href="../support-page.html">태안 청년정책</a>
          </li>
          <li class="fource-nav-menu"><a href="../notice.html">새소식</a></li>
        </ul>
      </nav>
      <ul class="search-login-box">
        <li><button class="search-btn">찾기</button></li>
        <li><a class="header-login-btn" href="#none">로그인</a></li>
        <li class="header-mobile-btn">
          <span></span>
          <span></span>
          <span></span>
        </li>
      </ul>
    </div>
  </div>
  <div class="search-modal">
    <div class="search-modal-inner">
      <div class="search-modal-input-box">
        <label class="blind" for="search-modal-input"></label>
        <input
          id="search-modal-input"
          type="text"
          placeholder="태안 청년정보를 검색해보세요"
        />
        <button class="modal-search-btn">
          <span class="blind">검색</span>
          <i class="bi bi-search"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="mega-menu">
    <div class="mega-menu-inner">
      <div class="dummy"></div>
      <nav class="mega-menu-nav">
        <ul class="first-menu menu-num"></ul>
        <ul class="second-menu menu-num">
          <li><a href="../interview-story-found.html">창업 분야</a></li>
          <li><a href="../interview-story-employ.html">취업 분야</a></li>
        </ul>
        <ul class="third-menu menu-num">
          <li><a href="#none">일자리</a></li>
          <li><a href="#none">취업 지원</a></li>
          <li><a href="#none">창업 지원</a></li>
          <li><a href="#none">주거 지원</a></li>
          <li><a href="#none">육아 지원</a></li>
          <li><a href="#none">교육 지원</a></li>
          <li><a href="#none">공간 대여</a></li>
        </ul>
        <ul class="fouth-menu menu-num">
          <li><a href="../notice.html">공지사항</a></li>
          <li><a href="../notice-release.html">보도자료</a></li>
        </ul>
      </nav>
      <div class="dummy2"></div>
    </div>
  </div>
  <div class="mobile-mega-menu">
    <div class="mobile-mega-menu-box">
      <ul>
        <li>
          <a href="../board.html" class="mobile-menu-title">태안 Talk</a>
        </li>
      </ul>
      <ul>
        <li>
          <a href="../interview-story.html" class="mobile-menu-title">태안 人터뷰</a>
        </li>
        <li>
          <a href="../interview-story-employ.html" class="mobile-menu-sub">취업 분야</a>
        </li>
        <li>
          <a href="../interview-story-found.html" class="mobile-menu-sub">창업 분야</a>
        </li>
      </ul>
      <ul>
        <li>
          <a href="../support-page.html" class="mobile-menu-title">태안 청년정책</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">일자리</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">창업 지원</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">취업 지원</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">주거 지원</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">교육 지원</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">육아 지원</a>
        </li>
        <li>
          <a href="../support-page.html" class="mobile-menu-sub">공간 대여</a>
        </li>
      </ul>
      <ul>
        <li>
          <a href="../notice.html" class="mobile-menu-title">태안 청년정책</a>
        </li>
        <li>
          <a href="../notice.html" class="mobile-menu-sub">공지사항</a>
        </li>
        <li>
          <a href="../notice-release.html" class="mobile-menu-sub">보도자료</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="login-modal-bg">
    <div class="login-modal">
      <button class="modal-close">모달닫기</button>
      <h1 class="login-title">로그인</h1>
      <form class="login-form">
        <fieldset class="login-field">
          <legend class="blind">로그인</legend>
          <div class="login-id-box input-box">
            <label for="login-id-input">아이디</label>
            <input
              id="login-id-input"
              type="text"
              placeholder="아이디를 입력해주세요"
            />
            <img src="../images/svg/s-user-01.svg" alt="로그인 아이콘" />
          </div>
          <div class="login-pw-box input-box">
            <label for="login-pw-input">비밀번호</label>
            <label class="blind" for="pw-type-btn"></label>
            <input
              id="pw-type-btn"
              type="button"
              class="pw-eye"
              value="pw-eye"
            />
            <input
              id="login-pw-input"
              type="password"
              placeholder="비밀번호를 입력해주세요"
            />
            <img src="../images/svg/login-key.svg" alt="비밀번호 아이콘" />
          </div>
          <a class="forgot-pw-link" href="#">비밀번호를 잊어버리셨나요?</a>
          <div class="login-btn-box">
            <label class="blind" for="login-btn">로그인버튼</label>
            <input id="login-btn" type="submit" value="로그인" />
          </div>
        </fieldset>
      </form>
      <div class="easy-login-btns-box">
        <p>또는</p>
        <div class="naver-easy-loin-box easy-loin-box">
          <a class="naver-easy-loin-btn easy-loin-btn" href="#"
            >네이버 로그인</a
          >
          <img src="../images/svg/naver-logo.svg" alt="네이버로고" />
        </div>
        <div class="kakao-easy-loin-box easy-loin-box">
          <a class="kakao-easy-loin-btn easy-loin-btn" href="#"
            >카카오 로그인</a
          >
          <img src="../images/svg/kakao-logo.svg" alt="카카오로고" />
        </div>
      </div>
      <div class="go-for-join-box">
        <span>계정이 없으신가요?</span>
        <a class="for-join-link" href="#">회원가입 하러가기</a>
      </div>
    </div>
  </div>
</header>
<script>
  /* 변수모음 */
  const searchBtn = document.querySelector(".search-btn");
  const searchModal = document.querySelector(".search-modal");
  const header = document.querySelector("header");
  const dummy1 = document.querySelector(".dummy");
  const dummy2 = document.querySelector(".dummy2");
  const headerLogo = document.querySelector(".header-logo");
  const searchLoginBox = document.querySelector(".search-login-box");
  const headerNavListLi = document.querySelectorAll(".header-nav-list li");
  const megaMenu = document.querySelector(".mega-menu");
  const loginModalBg = document.querySelector(".login-modal-bg");
  const headerLoginBtn = document.querySelector(".header-login-btn");
  const loginModal = document.querySelector(".login-modal");
  const loginPwInput = document.querySelector("#login-pw-input");
  const pwEye = document.querySelector(".pw-eye");
  const modalClose = document.querySelector(".modal-close");
  /* mega-nav */
  const firstNavMenu = document.querySelector(".first-nav-menu");
  const secondNavMenu = document.querySelector(".second-nav-menu");
  const thirdNavMenu = document.querySelector(".third-nav-menu");
  const fourceNavMenu = document.querySelector(".fource-nav-menu");

  /* mega-nav-list */
  const firstMenu = document.querySelector(".first-menu");
  const secondMenu = document.querySelector(".second-menu");
  const thirdMenu = document.querySelector(".third-menu");
  const fouthMenu = document.querySelector(".fouth-menu");
  /* header-mobile-btn */
  const headerMobileBtn = document.querySelector(".header-mobile-btn");
  const mobileMegaMenu =document.querySelector(".mobile-mega-menu");

  /* headerMobileBtn 클릭시 active toggle */
  headerMobileBtn.addEventListener("click", function (e) {
    headerMobileBtn.classList.toggle("active");
    mobileMegaMenu.classList.toggle("active");
  });

  /* 각메뉴마다 호버시 헤더 메뉴 액티브 */
  firstMenu.addEventListener("mouseenter", () => {
    firstNavMenu.classList.add("active");
  });
  firstMenu.addEventListener("mouseleave", () => {
    firstNavMenu.classList.remove("active");
  });
  secondMenu.addEventListener("mouseenter", () => {
    secondNavMenu.classList.add("active");
  });
  secondMenu.addEventListener("mouseleave", () => {
    secondNavMenu.classList.remove("active");
  });
  thirdMenu.addEventListener("mouseenter", () => {
    thirdNavMenu.classList.add("active");
  });
  thirdMenu.addEventListener("mouseleave", () => {
    thirdNavMenu.classList.remove("active");
  });
  fouthMenu.addEventListener("mouseenter", () => {
    fourceNavMenu.classList.add("active");
  });
  fouthMenu.addEventListener("mouseleave", () => {
    fourceNavMenu.classList.remove("active");
  });

  /* 스크롤 내릴시 header에 active 클래스 추가 */
  function handleScroll() {
    if (window.scrollY > 120) {
      header.classList.add("active");
    } else {
      header.classList.remove("active");
    }
  }
  window.addEventListener("scroll", handleScroll);
  /* headerLoginBtn 클릭시 loginModalBg active */
  headerLoginBtn.addEventListener("click", () => {
    loginModalBg.classList.toggle("active");
  });
  /* loginModal을 눌렀을 때 이벤트가 부모인 .login-modal-bg까지 전파되지 않도록 이벤트 핸들러 추가 */
  loginModal.addEventListener("click", (event) => {
    event.stopPropagation(); // 이벤트 전파 중단
  });
  /* loginModalBg 클릭시 자기자신 클래스 제거 */
  loginModalBg.addEventListener("click", () => {
    loginModalBg.classList.remove("active");
  });
  /* modalClose 클릭시 모달 active제거 */
  modalClose.addEventListener("click", () => {
    loginModalBg.classList.remove("active");
  });
  /* 더미의 width값 */
  dummy1.style.width = headerLogo.offsetWidth + "px";
  dummy2.style.width = searchLoginBox.offsetWidth + "px";

  /* searchBtn 클릭시 search-modal 열리기 */
  searchBtn.addEventListener("click", () => {
    searchModal.classList.toggle("active");
    header.classList.toggle("dark");
    searchBtn.classList.toggle("search-btn-close");
    /* 헤더에 dark클래스 있으면 로고 흰색으로 */
    const logoToggle = document.querySelector(".logo-toggle");
    if (header.classList.contains("dark")) {
      logoToggle.setAttribute("src", "../images/logo/logo-white.svg");
    } else {
      logoToggle.setAttribute("src", "../images/logo/logo.svg");
    }
  });
  /* headerNavListLi에 마우스 올리면 메가네비 내려옴 */
  headerNavListLi.forEach((ele) => {
    ele.addEventListener("mouseenter", () => {
      megaMenu.classList.add("active");
      if (header.classList.contains("dark")) {
        megaMenu.classList.remove("active");
      }
    });
  });
  /* headerNavListLi에 마우스 내리면 메가네비 올라감 */
  headerNavListLi.forEach((ele) => {
    ele.addEventListener("mouseleave", () => {
      megaMenu.classList.remove("active");
    });
  });
  /* megaMenu에 마우스 올리면 메가네비 유지 */
  megaMenu.addEventListener("mouseenter", () => {
    megaMenu.classList.add("active");
  });
  /* megaMenu에 마우스 내리면 메가네비 올라감 */
  megaMenu.addEventListener("mouseleave", () => {
    megaMenu.classList.remove("active");
  });
  /* pwEye 누르면 slash클래스 토글 */
  pwEye.addEventListener("click", () => {
    const isPassword = loginPwInput.getAttribute("type") === "password";
    if (isPassword) {
      loginPwInput.setAttribute("type", "text");
      pwEye.classList.add("slash");
    } else {
      loginPwInput.setAttribute("type", "password");
      pwEye.classList.remove("slash");
    }
  });
</script>
